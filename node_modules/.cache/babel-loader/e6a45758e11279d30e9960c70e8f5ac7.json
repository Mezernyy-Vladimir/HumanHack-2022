{"ast":null,"code":"var _jsxFileName = \"/home/shrek/bred.li-hack/src/pages/home/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Stepper, Step, StepLabel, Button, Box } from '@mui/material';\nimport { useForm } from 'react-hook-form';\nimport FormControlAnswers from '../../shared/ui/formControlAnswers';\nimport { array } from '../../consts';\nimport './style.scss';\nimport SuccessPage from '../../features/successPage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [step, setStep] = useState(0);\n  const {\n    control,\n    getValues\n  } = useForm();\n  const [error, setError] = useState(true);\n  const [isSuccess, setIsSuccess] = useState(false);\n\n  const handleChangeStep = index => {\n    setStep(index);\n  };\n\n  const handleNext = () => {\n    const values = getValues();\n    const valuesArray = Object.values(values);\n    console.log('==========>values', values);\n\n    if (step === array.length - 1) {\n      let result = 0;\n      valuesArray.forEach(el => {\n        console.log('==========>el', el);\n\n        if (el.includes('true')) {\n          result += 1;\n        }\n      });\n      setIsSuccess(true);\n      console.log('==========>result', result);\n    } else {\n      setStep(prevActiveStep => prevActiveStep + 1);\n      setError(true);\n    }\n  };\n\n  const handleBack = () => {\n    setStep(prevActiveStep => prevActiveStep - 1);\n    setError(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper\",\n      children: isSuccess ? /*#__PURE__*/_jsxDEV(SuccessPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Stepper, {\n          activeStep: step,\n          children: array.map((label, index) => {\n            return (\n              /*#__PURE__*/\n              // eslint-disable-next-line react/no-array-index-key\n              _jsxDEV(Step, {\n                onClick: () => handleChangeStep(index),\n                children: /*#__PURE__*/_jsxDEV(StepLabel, {\n                  children: label.questionName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 21\n                }, this)\n              }, index.toString(36), false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 19\n              }, this)\n            );\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-container\",\n          style: 'width: 100%',\n          children: /*#__PURE__*/_jsxDEV(FormControlAnswers, {\n            setError: setError,\n            answers: array[step].answers,\n            name: array[step].questionName,\n            control: control,\n            id: step\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'row',\n            pt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            color: \"inherit\",\n            disabled: step === 0,\n            onClick: handleBack,\n            sx: {\n              mr: 1\n            },\n            children: \"\\u041F\\u0440\\u0435\\u0434\\u044B\\u0434\\u0443\\u0449\\u0438\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: '1 1 auto'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            display: \"flex\",\n            flexDirection: \"column\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              disabled: error,\n              onClick: handleNext,\n              children: step === array.length - 1 ? 'Отправить' : 'Следующий'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"8xh7xw6n7p2m5ffTNocT2Ajh5Ek=\", false, function () {\n  return [useForm];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/shrek/bred.li-hack/src/pages/home/index.tsx"],"names":["React","useState","Stepper","Step","StepLabel","Button","Box","useForm","FormControlAnswers","array","SuccessPage","Home","step","setStep","control","getValues","error","setError","isSuccess","setIsSuccess","handleChangeStep","index","handleNext","values","valuesArray","Object","console","log","length","result","forEach","el","includes","prevActiveStep","handleBack","map","label","questionName","toString","answers","display","flexDirection","pt","mr","flex"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Stepper, Step, StepLabel, Button, Box, Typography } from '@mui/material';\nimport { useForm } from 'react-hook-form';\n\nimport FormControlAnswers from '../../shared/ui/formControlAnswers';\n\nimport { array, IQuestion } from '../../consts';\nimport { getValue } from '@testing-library/user-event/dist/utils';\n\nimport './style.scss';\nimport SuccessPage from '../../features/successPage';\n\nconst Home = () => {\n  const [step, setStep] = useState<number>(0);\n  const { control, getValues } = useForm();\n  const [error, setError] = useState<boolean>(true);\n  const [isSuccess, setIsSuccess] = useState<boolean>(false);\n\n  const handleChangeStep = (index: number) => {\n    setStep(index);\n  };\n\n  const handleNext = () => {\n    const values = getValues();\n    const valuesArray: string[] = Object.values(values);\n    console.log('==========>values', values);\n    if (step === array.length - 1) {\n      let result = 0;\n      valuesArray.forEach((el) => {\n        console.log('==========>el', el);\n        if (el.includes('true')) {\n          result += 1;\n        }\n      });\n\n      setIsSuccess(true);\n      console.log('==========>result', result);\n    } else {\n      setStep((prevActiveStep) => prevActiveStep + 1);\n      setError(true);\n    }\n  };\n\n  const handleBack = () => {\n    setStep((prevActiveStep) => prevActiveStep - 1);\n    setError(false);\n  };\n\n  return (\n    <div className=\"home\">\n      <div className=\"wrapper\">\n        {isSuccess ? (\n          <SuccessPage />\n        ) : (\n          <>\n            <Stepper activeStep={step}>\n              {array.map((label: IQuestion, index: number) => {\n                return (\n                  // eslint-disable-next-line react/no-array-index-key\n                  <Step onClick={() => handleChangeStep(index)} key={index.toString(36)}>\n                    <StepLabel>{label.questionName}</StepLabel>\n                  </Step>\n                );\n              })}\n            </Stepper>\n            <div className=\"form-container\" style={'width: 100%'}>\n              <FormControlAnswers\n                setError={setError}\n                answers={array[step].answers}\n                name={array[step].questionName}\n                control={control}\n                id={step}\n              />\n            </div>\n            <Box sx={{ display: 'flex', flexDirection: 'row', pt: 2 }}>\n              <Button variant=\"outlined\" color=\"inherit\" disabled={step === 0} onClick={handleBack} sx={{ mr: 1 }}>\n                Предыдущий\n              </Button>\n              <Box sx={{ flex: '1 1 auto' }} />\n              <Box display=\"flex\" flexDirection=\"column\">\n                <Button variant=\"contained\" disabled={error} onClick={handleNext}>\n                  {step === array.length - 1 ? 'Отправить' : 'Следующий'}\n                </Button>\n              </Box>\n            </Box>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}